//Practica 3
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAX 5

struct pelicula {
    char nombre[30];
    char dir[30];
    int year;
};

int main (void) {
    struct pelicula videoteca[MAX];
    int n;
    
    printf("Cuantas peliculas quieres guardar, maximo %d :  ",MAX);
    scanf("%d",&n);
    if (n=1 && n<MAX ){
        for(int i=0; i<n; i++){
            printf("\nIngrese el nombre de la pelicula %d :   ",i+1);
            scanf("%s",&videoteca[i].nombre);
        
            printf("Ingrese el nombre del director de la pelicula %d :   ",i+1);
            scanf("%s",&videoteca[i].dir);
        
            printf("Ingrese el año de la pelicula %d :   ",i+1);
            scanf("%d",&videoteca[i].year);
        
            printf("\n");
        }
    
    
    
    
    for(int i= n-1 ; i>=0; i--){
        printf("\n\nPelicula %d : ",i+1);
        printf("\nNombre: %s ",videoteca[i].nombre);
        printf("\nDirector: %s ",videoteca[i].dir);
        printf("\nAño: %d ",videoteca[i].year);
    }
    
    int opc=0;
    
    printf("\n\nDesea realizar la busqueda por:\n\t1)nombre\n\t2)director\n\t3)Año");
    printf("\nIngrese el numero de la opcion: ");
            
    scanf("%d",&opc);
    
    switch (opc) {
        
        case 1:   
            char name[30];
            printf("\nIngrese el nombre de la pelicula: ");
            scanf("%s",&name);
            for(int i=0; i<n;i++){
                        if(strcmp(name, videoteca[i].nombre)==0) {
                    
                        printf("\n\nSe ha encontrado la pelicula %d ",i+1);
                        printf("\nNombre: %s",videoteca[i].nombre);
                        printf("\nDirector: %s",videoteca[i].dir);
                        printf("\nAño: %d",videoteca[i].year);
                        }
                    else{
                        printf("\nNo se ha enconetrado la pelicula. ");
                        return 0;
                    }
            }
        
        break;
        
        case 2:   
            char dire[30];
            printf("\nIngrese el director de la pelicula: ");
            scanf("%s",&dire);
            for(int i=0; i<n;i++){
                        if(strcmp(dire, videoteca[i].dir)==0) {
                    
                        printf("\n\nSe ha encontrado la pelicula %d ",i+1);
                        printf("\nNombre: %s",videoteca[i].nombre);
                        printf("\nDirector: %s",videoteca[i].dir);
                        printf("\nAño: %d",videoteca[i].year);
                        }
                    else{
                        printf("\nNo se ha enconetrado la pelicula. ");
                        return 0;
                    }
            }
        
        break;
        
        case 3:   
            int yearcmp;
            printf("\nIngrese el año de la pelicula: ");
            scanf("%d",&yearcmp);
            for(int i=0; i<n;i++){
                    if( yearcmp == videoteca[i].year ) {
                        printf("\n\nSe ha encontrado la pelicula %d ",i+1);
                        printf("\nNombre: %s",videoteca[i].nombre);
                        printf("\nDirector: %s",videoteca[i].dir);
                        printf("\nAño: %d",videoteca[i].year);
                        }
                    else{
                        printf("\nNo se ha enconetrado la pelicula. ");
                        return 0;
                    }
            }
        
        break;
        
        default: return 0;
        
    }
    }
    
    else {
        printf("\n\t\tOpcion invalida");
        return 0;
    }
    
}
